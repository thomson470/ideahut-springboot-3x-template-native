"use strict";(globalThis["webpackChunkideahut_quasar_admin"]=globalThis["webpackChunkideahut_quasar_admin"]||[]).push([[342],{4342:(e,l,t)=>{t.r(l),t.d(l,{default:()=>E});var a=t(1758),o=t(8790);const n={class:"full-width row flex-center text-accent q-gutter-sm"},s={class:"text-subtitle2"},i={class:"col-6 q-pr-xs text-left"},r={class:"col-6 q-pl-xs text-right"};function d(e,l,t,d,c,b){const u=(0,a.g2)("q-badge"),m=(0,a.g2)("q-tooltip"),h=(0,a.g2)("q-btn"),g=(0,a.g2)("q-icon"),p=(0,a.g2)("q-table"),f=(0,a.g2)("q-item-label"),_=(0,a.g2)("q-item-section"),k=(0,a.g2)("q-item"),q=(0,a.g2)("q-card-section"),w=(0,a.g2)("VueJsonPretty"),x=(0,a.g2)("q-card"),F=(0,a.g2)("q-dialog"),V=(0,a.g2)("q-input"),y=(0,a.g2)("q-form"),v=(0,a.g2)("q-select"),$=(0,a.g2)("q-separator"),S=(0,a.g2)("q-card-actions"),A=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(p,{class:"table-sticky-header q-ma-sm",rows:d.table.rows,columns:d.table.columns,loading:d.table.loading,selection:"single",dense:e.$q.screen.lt.md,"no-data-label":e.$t("error.data_not_available"),"rows-per-page-label":" ","rows-per-page-options":[10,20,30,40,50,60,70,80,90,100],"binary-state-sort":"",separator:"cell",pagination:d.table.pagination,"onUpdate:pagination":l[0]||(l[0]=e=>d.table.pagination=e),onRequest:b.do_request,bordered:""},{"top-right":(0,a.k6)((()=>[(0,a.bF)(h,{glossy:"",round:"",dense:"",class:"q-ma-none q-ml-md",color:"deep-orange",icon:"search",onClick:b.on_search_dialog_click},{default:(0,a.k6)((()=>[Object.keys(d.table.filters).length?((0,a.uX)(),(0,a.Wv)(u,{key:0,class:"led-green",floating:""})):(0,a.Q3)("",!0),(0,a.bF)(m,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("label.search")),1)])),_:1})])),_:1},8,["onClick"]),(0,a.bF)(h,{glossy:"",round:"",dense:"",class:"q-ma-none q-ml-md",color:"indigo",icon:"refresh",loading:d.table.loading,onClick:b.on_refresh_click},{default:(0,a.k6)((()=>[(0,a.bF)(m,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("label.refresh")),1)])),_:1})])),_:1},8,["loading","onClick"])])),"no-data":(0,a.k6)((({message:e})=>[(0,a.Lk)("div",n,[(0,a.bF)(g,{size:"2em",name:"block"}),(0,a.Lk)("span",s,(0,o.v_)(e),1)])])),"body-selection":(0,a.k6)((l=>[(0,a.bF)(h,{glossy:"",round:"",dense:"",size:"sm",class:"q-ma-none q-ml-xs q-mr-sm",color:"deep-purple",icon:"visibility",onClick:e=>b.on_detail_click(l)},{default:(0,a.k6)((()=>[(0,a.bF)(m,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("label.view")),1)])),_:1})])),_:2},1032,["onClick"])])),_:1},8,["rows","columns","loading","dense","no-data-label","pagination","onRequest"]),(0,a.bF)(F,{modelValue:d.dialog.detail.show,"onUpdate:modelValue":l[1]||(l[1]=e=>d.dialog.detail.show=e),"transition-show":"scale","transition-hide":"fade"},{default:(0,a.k6)((()=>[(0,a.bF)(x,{style:(0,o.Tr)(e.$q.screen.lt.md?"":"width: 80vw; max-width: 81vw;")},{default:(0,a.k6)((()=>[(0,a.bF)(q,{class:"q-pa-none header-main"},{default:(0,a.k6)((()=>[(0,a.bF)(k,{class:"q-pr-none"},{default:(0,a.k6)((()=>[(0,a.bF)(_,{style:{"max-width":"80vw","overflow-x":"scroll"}},{default:(0,a.k6)((()=>[(0,a.bF)(f,{class:"text-white"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(d.dialog.detail.title),1)])),_:1})])),_:1}),(0,a.bF)(_,{side:""},{default:(0,a.k6)((()=>[(0,a.bo)(((0,a.uX)(),(0,a.Wv)(h,{class:"text-caption text-white q-pl-xs q-pr-xs q-mr-xs",flat:"",round:"",glossy:"",icon:"close"},{default:(0,a.k6)((()=>[(0,a.bF)(m,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("label.close")),1)])),_:1})])),_:1})),[[A]])])),_:1})])),_:1})])),_:1}),(0,a.bF)(q,{style:(0,o.Tr)("overflow: scroll; "+(e.$q.screen.lt.md?"max-height: 70vh;":"max-height: 70vh; width: 80vw; max-width: 81vw;")),class:"q-pa-xs q-mt-xs scroll"},{default:(0,a.k6)((()=>[(0,a.bF)(w,{data:d.dialog.detail.data,showLineNumber:!0,showLine:!0,showDoubleQuotes:!1,showIcon:!0,highlightSelectedNode:!1,showKeyValueSpace:!0},null,8,["data"])])),_:1},8,["style"])])),_:1},8,["style"])])),_:1},8,["modelValue"]),(0,a.bF)(F,{modelValue:d.dialog.search.show,"onUpdate:modelValue":l[9]||(l[9]=e=>d.dialog.search.show=e),"transition-show":"scale","transition-hide":"fade",persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(x,{style:(0,o.Tr)("width: "+(e.$q.screen.lt.md?"100%;":"50%;"))},{default:(0,a.k6)((()=>[(0,a.bF)(q,{class:"q-pa-none header-main"},{default:(0,a.k6)((()=>[(0,a.bF)(k,{class:"q-pr-none"},{default:(0,a.k6)((()=>[(0,a.bF)(_,null,{default:(0,a.k6)((()=>[(0,a.bF)(f,{class:"text-h6 text-white"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("label.search")),1)])),_:1})])),_:1}),(0,a.bF)(_,{side:""},{default:(0,a.k6)((()=>[(0,a.bo)(((0,a.uX)(),(0,a.Wv)(h,{class:"text-caption text-white q-pl-xs q-pr-xs q-mr-xs",flat:"",round:"",glossy:"",icon:"close"},{default:(0,a.k6)((()=>[(0,a.bF)(m,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("label.close")),1)])),_:1})])),_:1})),[[A]])])),_:1})])),_:1})])),_:1}),(0,a.bF)(q,{style:{"max-height":"70vh"},class:"q-pa-xs q-mt-xs scroll"},{default:(0,a.k6)((()=>[(0,a.bF)(y,{onSubmit:b.on_search_filter_click,onReset:b.on_search_reset_click},{default:(0,a.k6)((()=>[(0,a.bF)(V,{modelValue:d.table.filters.path,"onUpdate:modelValue":l[2]||(l[2]=e=>d.table.filters.path=e),type:"text",label:e.$t("label.path"),filled:"",class:"q-mb-xs"},null,8,["modelValue","label"])])),_:1},8,["onSubmit","onReset"]),(0,a.bF)(v,{modelValue:d.table.filters.method,"onUpdate:modelValue":l[3]||(l[3]=e=>d.table.filters.method=e),label:e.$t("label.method"),options:d.option.methods,filled:"",class:"q-mb-xs"},null,8,["modelValue","label","options"]),(0,a.bF)(v,{modelValue:d.table.filters.isPublic,"onUpdate:modelValue":l[4]||(l[4]=e=>d.table.filters.isPublic=e),label:e.$t("label.public"),options:d.option.boolean,filled:"",class:"q-mb-xs"},null,8,["modelValue","label","options"]),(0,a.bF)(v,{modelValue:d.table.filters.isExclude,"onUpdate:modelValue":l[5]||(l[5]=e=>d.table.filters.isExclude=e),label:e.$t("label.exclude"),options:d.option.boolean,filled:"",class:"q-mb-xs"},null,8,["modelValue","label","options"]),(0,a.bF)(y,{onSubmit:b.on_search_filter_click,onReset:b.on_search_reset_click},{default:(0,a.k6)((()=>[(0,a.bF)(V,{modelValue:d.table.filters.bean,"onUpdate:modelValue":l[6]||(l[6]=e=>d.table.filters.bean=e),type:"text",label:e.$t("label.bean"),filled:"",class:"q-mb-xs"},null,8,["modelValue","label"])])),_:1},8,["onSubmit","onReset"]),(0,a.bF)(y,{onSubmit:b.on_search_filter_click,onReset:b.on_search_reset_click},{default:(0,a.k6)((()=>[(0,a.bF)(V,{modelValue:d.table.filters.function,"onUpdate:modelValue":l[7]||(l[7]=e=>d.table.filters.function=e),type:"text",label:e.$t("label.function"),filled:"",class:"q-mb-xs"},null,8,["modelValue","label"])])),_:1},8,["onSubmit","onReset"]),(0,a.bF)(y,{onSubmit:b.on_search_filter_click,onReset:b.on_search_reset_click},{default:(0,a.k6)((()=>[(0,a.bF)(V,{modelValue:d.table.filters.annotation,"onUpdate:modelValue":l[8]||(l[8]=e=>d.table.filters.annotation=e),type:"text",label:e.$t("label.annotation"),filled:"",class:"q-mb-xs"},null,8,["modelValue","label"])])),_:1},8,["onSubmit","onReset"])])),_:1}),(0,a.bF)($),(0,a.bF)(S,{class:"row"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",i,[(0,a.bF)(h,{label:e.$t("label.reset"),color:"orange","no-caps":"",glossy:"",onClick:b.on_search_reset_click},null,8,["label","onClick"])]),(0,a.Lk)("div",r,[(0,a.bF)(h,{label:e.$t("label.filter"),color:"purple","no-caps":"",glossy:"",onClick:b.on_search_filter_click},null,8,["label","onClick"])])])),_:1})])),_:1},8,["style"])])),_:1},8,["modelValue"])],64)}var c=t(8734),b=t(9928),u=t(526);const m={components:{VueJsonPretty:(0,a.$V)((()=>t.e(121).then(t.bind(t,9140))))},setup(){return{util:b.Z,table:(0,c.KR)({rows:[],filters:{},columns:[],loading:!1,pagination:{page:1,rowsPerPage:30,sortBy:"path",descending:!1,count:!0}}),dialog:(0,c.KR)({detail:{show:!1,title:null,data:null},search:{show:!1}}),option:(0,c.KR)({methods:["","GET","POST","PUT","DELETE","HEAD","PATCH","OPTIONS","TRACE"],boolean:["","true","false"]})}},created(){let e=this;e.table.columns=[{name:"path",label:e.$t("label.path"),field:"patternValues",align:"left",sortable:!0,format:function(e,l){return e.join(", ")}},{name:"method",label:e.$t("label.method"),field:"methods",align:"left",sortable:!0,format:function(e,l){return e.join(", ")}},{name:"public",label:e.$t("label.public"),field:"public",align:"left",sortable:!0},{name:"exclude",label:e.$t("label.exclude"),field:"exclude",align:"left",sortable:!0},{name:"bean",label:e.$t("label.bean"),field:"handler",align:"left",sortable:!0,format:function(e,l){return e.bean}},{name:"function",label:e.$t("label.function"),field:"handler",align:"left",sortable:!0,format:function(e,l){return e.method.name+" ("+e.method.parameterCount+")"}}],e.on_refresh_click()},methods:{do_request(e){let l=this,{page:t,rowsPerPage:a,sortBy:o,descending:n}=l.get_pagination(e),s={index:t,size:a,order:(n?"-":"")+o};Object.keys(l.table.filters).forEach((e=>{s[e]=l.table.filters[e]})),l.table.loading=!0,u.F.call({path:"/request/list",params:s,onFinish(){l.table.loading=!1},onSuccess(e){if(b.Z.isObject(e)){l.table.rows=b.Z.isArray(e.data)?e.data:[];let t=l.table.pagination;if(t.page=e.index,t.rowsPerPage=e.size,b.Z.isNumber(e.records))t.rowsNumber=e.records;else{let a=e.index*e.size;l.table.rows.length!==e.size?t.rowsNumber=a:t.rowsNumber=a+1}}}})},get_pagination(e){let l=this,t=e?.pagination?e.pagination:l.table.pagination;return t?(l.table.pagination=t,t):l.table.pagination},on_refresh_click(){let e=this;e.table.rows?.length||e.table.pagination.page>1&&(e.table.pagination.page=1),e.do_request({pagination:e.table.pagination})},on_detail_click(e){let l=this;l.dialog.detail={title:e.row.patternValues[0],data:e.row,show:!0}},on_search_reset_click(){let e=this;e.table.filters={}},on_search_filter_click(){let e=this,l=e.table.filters;b.Z.isString(l.method)&&""!==l.method||delete l.method,b.Z.isString(l.path)&&""!==l.path||delete l.path,b.Z.isString(l.bean)&&""!==l.bean||delete l.bean,b.Z.isString(l.function)&&""!==l.function||delete l.function,b.Z.isString(l.annotation)&&""!==l.annotation||delete l.annotation,b.Z.isString(l.isPublic)&&""!==l.isPublic||delete l.isPublic,b.Z.isString(l.isExclude)&&""!==l.isExclude||delete l.isExclude,e.do_request({pagination:e.table.pagination}),e.dialog.search.show=!1},on_search_dialog_click(){let e=this;e.dialog.search.show=!0}}};var h=t(2807),g=t(3621),p=t(9001),f=t(4031),_=t(8151),k=t(4609),q=t(7201),w=t(7569),x=t(7066),F=t(5329),V=t(3418),y=t(5779),v=t(1565),$=t(8020),S=t(3694),A=t(7015),C=t(6334),P=t(2769),Q=t(8582),R=t.n(Q);const T=(0,h.A)(m,[["render",d]]),E=T;R()(m,"components",{QTable:g.A,QBtn:p.A,QBadge:f.A,QTooltip:_.A,QIcon:k.A,QDialog:q.A,QCard:w.A,QCardSection:x.A,QItem:F.A,QItemSection:V.A,QItemLabel:y.A,QForm:v.A,QInput:$.A,QSelect:S.A,QSeparator:A.A,QCardActions:C.A}),R()(m,"directives",{ClosePopup:P.A})}}]);