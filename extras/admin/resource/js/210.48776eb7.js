"use strict";(globalThis["webpackChunkideahut_quasar_admin"]=globalThis["webpackChunkideahut_quasar_admin"]||[]).push([[210],{6210:(e,l,a)=>{a.r(l),a.d(l,{default:()=>j});var n=a(1758),o=a(8790);const t={class:"row q-mt-none q-pa-sm"},s={class:"col-md-6 col-xs-12 q-pa-xs q-mb-sm"},i={class:"col-md-6 col-xs-12 q-pa-xs q-mb-sm"},b={class:"col-md-12 col-xs-12 q-pa-xs q-mb-sm"},r={class:"full-width row flex-center text-accent q-gutter-sm"},d={class:"text-subtitle2"},c={class:"col-6 q-pr-xs text-left"},u={class:"col-6 q-pl-xs text-right"};function p(e,l,a,p,m,g){const f=(0,n.g2)("q-table"),_=(0,n.g2)("q-badge"),h=(0,n.g2)("q-tooltip"),k=(0,n.g2)("q-btn"),x=(0,n.g2)("q-icon"),q=(0,n.g2)("q-input"),v=(0,n.g2)("q-card-section"),y=(0,n.g2)("q-card"),w=(0,n.g2)("q-popup-proxy"),F=(0,n.g2)("q-item-label"),$=(0,n.g2)("q-item-section"),V=(0,n.g2)("q-item"),R=(0,n.g2)("q-form"),N=(0,n.g2)("q-select"),A=(0,n.g2)("q-separator"),P=(0,n.g2)("q-card-actions"),Q=(0,n.g2)("q-dialog"),S=(0,n.gN)("close-popup");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",t,[(0,n.Lk)("div",s,[p.application?.length?((0,n.uX)(),(0,n.Wv)(f,{key:0,class:"table-sticky-header no-column",style:{"max-height":"36vh"},title:e.$t("label.application"),rows:p.application,separator:"cell","rows-per-page-options":[0],"hide-bottom":"","hide-header":"",bordered:"",dense:""},null,8,["title","rows"])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",i,[p.version?.length?((0,n.uX)(),(0,n.Wv)(f,{key:0,class:"table-sticky-header no-column",style:{"max-height":"36vh"},title:e.$t("label.version"),rows:p.version,separator:"cell","rows-per-page-options":[0],"hide-bottom":"","hide-header":"",bordered:"",dense:""},null,8,["title","rows"])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",b,[(0,n.bF)(f,{class:"table-sticky-header",title:e.$t("label.bean"),rows:p.bean.rows,columns:p.bean.columns,loading:p.bean.loading,selection:"single",dense:e.$q.screen.lt.md,"no-data-label":e.$t("error.data_not_available"),"rows-per-page-label":" ","rows-per-page-options":[10,20,30,40,50,60,70,80,90,100],"binary-state-sort":"",separator:"cell",pagination:p.bean.pagination,"onUpdate:pagination":l[6]||(l[6]=e=>p.bean.pagination=e),onRequest:g.get_beans,bordered:""},{"top-right":(0,n.k6)((()=>[(0,n.bF)(k,{glossy:"",round:"",dense:"",class:"q-ma-none q-ml-md",color:"deep-orange",icon:"search",onClick:l[0]||(l[0]=e=>p.bean.dialog=!0)},{default:(0,n.k6)((()=>[Object.keys(p.bean.filters).length?((0,n.uX)(),(0,n.Wv)(_,{key:0,class:"led-green",floating:""})):(0,n.Q3)("",!0),(0,n.bF)(h,null,{default:(0,n.k6)((()=>[(0,n.eW)((0,o.v_)(e.$t("label.search")),1)])),_:1})])),_:1}),(0,n.bF)(k,{glossy:"",round:"",dense:"",class:"q-ma-none q-ml-md",color:"indigo",icon:"refresh",loading:p.bean.loading,onClick:g.on_bean_refresh_click},{default:(0,n.k6)((()=>[(0,n.bF)(h,null,{default:(0,n.k6)((()=>[(0,n.eW)((0,o.v_)(e.$t("label.refresh")),1)])),_:1})])),_:1},8,["loading","onClick"])])),"no-data":(0,n.k6)((({message:e})=>[(0,n.Lk)("div",r,[(0,n.bF)(x,{size:"2em",name:"block"}),(0,n.Lk)("span",d,(0,o.v_)(e),1)])])),"body-selection":(0,n.k6)((a=>[(0,n.bF)(k,{glossy:"",round:"",dense:"",size:"sm",class:"q-ma-none q-ml-xs q-mr-sm",color:"deep-purple",icon:"visibility"},{default:(0,n.k6)((()=>[(0,n.bF)(h,null,{default:(0,n.k6)((()=>[(0,n.eW)((0,o.v_)(e.$t("label.view")),1)])),_:1}),(0,n.bF)(w,{"transition-show":"scale","transition-hide":"scale",onBeforeShow:e=>p.bean.popup=a.row,style:"width: 400px;"},{default:(0,n.k6)((()=>[(0,n.bF)(y,null,{default:(0,n.k6)((()=>[(0,n.bF)(v,{style:{"max-height":"600px"},class:"q-pa-xs q-mt-none scroll"},{default:(0,n.k6)((()=>[(0,n.bF)(q,{type:"text",label:e.$t("label.bean_name"),class:"q-mb-xs",modelValue:p.bean.popup.beanName,"onUpdate:modelValue":l[1]||(l[1]=e=>p.bean.popup.beanName=e),readonly:"",filled:"",dense:"",autogrow:""},null,8,["label","modelValue"]),(0,n.bF)(q,{type:"text",label:e.$t("label.proxy"),class:"q-mb-xs",modelValue:p.bean.popup.isProxy,"onUpdate:modelValue":l[2]||(l[2]=e=>p.bean.popup.isProxy=e),readonly:"",filled:"",dense:"",autogrow:""},null,8,["label","modelValue"]),(0,n.bF)(q,{type:"text",label:e.$t("label.reloadable"),class:"q-mb-xs",modelValue:p.bean.popup.isReloadable,"onUpdate:modelValue":l[3]||(l[3]=e=>p.bean.popup.isReloadable=e),readonly:"",filled:"",dense:"",autogrow:""},null,8,["label","modelValue"]),(0,n.bF)(q,{type:"text",label:e.$t("label.reconfigure"),class:"q-mb-xs",modelValue:p.bean.popup.isReconfigure,"onUpdate:modelValue":l[4]||(l[4]=e=>p.bean.popup.isReconfigure=e),readonly:"",filled:"",dense:"",autogrow:""},null,8,["label","modelValue"]),(0,n.bF)(q,{type:"text",label:e.$t("label.class_name"),class:"q-mb-xs",modelValue:p.bean.popup.className,"onUpdate:modelValue":l[5]||(l[5]=e=>p.bean.popup.className=e),readonly:"",filled:"",dense:"",autogrow:""},null,8,["label","modelValue"])])),_:1})])),_:1})])),_:2},1032,["onBeforeShow"])])),_:2},1024)])),_:1},8,["title","rows","columns","loading","dense","no-data-label","pagination","onRequest"])])]),(0,n.bF)(Q,{modelValue:p.bean.dialog,"onUpdate:modelValue":l[12]||(l[12]=e=>p.bean.dialog=e),"transition-show":"scale","transition-hide":"fade",persistent:""},{default:(0,n.k6)((()=>[(0,n.bF)(y,{style:(0,o.Tr)("width: "+(e.$q.screen.lt.md?"100%;":"50%;"))},{default:(0,n.k6)((()=>[(0,n.bF)(v,{class:"q-pa-none header-main"},{default:(0,n.k6)((()=>[(0,n.bF)(V,{class:"q-pr-none"},{default:(0,n.k6)((()=>[(0,n.bF)($,null,{default:(0,n.k6)((()=>[(0,n.bF)(F,{class:"text-h6 text-white"},{default:(0,n.k6)((()=>[(0,n.eW)((0,o.v_)(e.$t("label.search")),1)])),_:1})])),_:1}),(0,n.bF)($,{side:""},{default:(0,n.k6)((()=>[(0,n.bo)(((0,n.uX)(),(0,n.Wv)(k,{class:"text-caption text-white q-pl-xs q-pr-xs q-mr-xs",flat:"",round:"",glossy:"",icon:"close"},{default:(0,n.k6)((()=>[(0,n.bF)(h,null,{default:(0,n.k6)((()=>[(0,n.eW)((0,o.v_)(e.$t("label.close")),1)])),_:1})])),_:1})),[[S]])])),_:1})])),_:1})])),_:1}),(0,n.bF)(v,{style:{"max-height":"70vh"},class:"q-pa-xs q-mt-xs scroll"},{default:(0,n.k6)((()=>[(0,n.bF)(R,{onSubmit:g.on_bean_filter_click,onReset:g.on_bean_reset_click},{default:(0,n.k6)((()=>[(0,n.bF)(q,{modelValue:p.bean.filters.beanName,"onUpdate:modelValue":l[7]||(l[7]=e=>p.bean.filters.beanName=e),type:"text",label:e.$t("label.bean_name"),filled:"",class:"q-mb-xs"},null,8,["modelValue","label"])])),_:1},8,["onSubmit","onReset"]),(0,n.bF)(R,{onSubmit:g.on_bean_filter_click,onReset:g.on_bean_reset_click},{default:(0,n.k6)((()=>[(0,n.bF)(q,{modelValue:p.bean.filters.className,"onUpdate:modelValue":l[8]||(l[8]=e=>p.bean.filters.className=e),type:"text",label:e.$t("label.class_name"),filled:"",class:"q-mb-xs"},null,8,["modelValue","label"])])),_:1},8,["onSubmit","onReset"]),(0,n.bF)(N,{modelValue:p.bean.filters.isProxy,"onUpdate:modelValue":l[9]||(l[9]=e=>p.bean.filters.isProxy=e),label:e.$t("label.proxy"),options:p.option.boolean,filled:"",class:"q-mb-xs"},null,8,["modelValue","label","options"]),(0,n.bF)(N,{modelValue:p.bean.filters.isReloadable,"onUpdate:modelValue":l[10]||(l[10]=e=>p.bean.filters.isReloadable=e),label:e.$t("label.reloadable"),options:p.option.boolean,filled:"",class:"q-mb-xs"},null,8,["modelValue","label","options"]),(0,n.bF)(N,{modelValue:p.bean.filters.isReconfigure,"onUpdate:modelValue":l[11]||(l[11]=e=>p.bean.filters.isReconfigure=e),label:e.$t("label.reconfigure"),options:p.option.boolean,filled:"",class:"q-mb-xs"},null,8,["modelValue","label","options"])])),_:1}),(0,n.bF)(A),(0,n.bF)(P,{class:"row"},{default:(0,n.k6)((()=>[(0,n.Lk)("div",c,[(0,n.bF)(k,{label:e.$t("label.reset"),color:"orange","no-caps":"",glossy:"",onClick:g.on_bean_reset_click},null,8,["label","onClick"])]),(0,n.Lk)("div",u,[(0,n.bF)(k,{label:e.$t("label.filter"),color:"purple","no-caps":"",glossy:"",onClick:g.on_bean_filter_click},null,8,["label","onClick"])])])),_:1})])),_:1},8,["style"])])),_:1},8,["modelValue"])],64)}var m=a(8734),g=a(9928),f=(a(8916),a(526));const _={setup(){return{util:g.Z,application:(0,m.KR)([]),version:(0,m.KR)([]),bean:(0,m.KR)({rows:[],filters:{},columns:[],loading:!1,pagination:{page:1,rowsPerPage:20,sortBy:"beanName",descending:!1},dialog:!1}),option:(0,m.KR)({boolean:["","true","false"]})}},created(){let e=this;e.bean.columns=[{name:"beanName",label:e.$t("label.bean_name"),field:"beanName",align:"left",sortable:!0},{name:"isProxy",label:e.$t("label.proxy"),field:"isProxy",align:"left",sortable:!0},{name:"isReloadable",label:e.$t("label.reloadable"),field:"isReloadable",align:"left",sortable:!0},{name:"isReconfigure",label:e.$t("label.reconfigure"),field:"isReconfigure",align:"left",sortable:!0},{name:"className",label:e.$t("label.class_name"),field:"className",align:"left",sortable:!0}],e.get_info(),e.get_beans()},methods:{get_info(){let e=this;f.F.call({path:"/info",onSuccess(l){if(g.Z.isObject(l.application)){let a=l.application;e.application=[{label:e.$t("label.id"),value:a.id},{label:e.$t("label.display_name"),value:a.displayName},{label:e.$t("label.server_classname"),value:g.Z.isString(a.serverClassname)?a.serverClassname:""},{label:e.$t("label.server_port"),value:g.Z.isNumber(a.serverPort)?a.serverPort:""},{label:e.$t("label.bean_count"),value:a.beanCount},{label:e.$t("label.startup_date"),value:g.Z.isNumber(a.startupDate)?g.Z.format.date(a.startupDate,{format:"YYYY-MM-DD HH:mm:ss"}):""}]}if(g.Z.isObject(l.version)){let a=l.version;e.version=[{label:"Reactive",value:a.reactive},{label:"Java",value:a.java},{label:"Spring Framework",value:a.springFramework},{label:"Spring Boot",value:a.springBoot},{label:"Hibernate",value:a.hibernate},{label:"Ideahut",value:a.ideahut}]}g.Z.isArray(l.beans)&&(e.bean.rows=l.beans,e.bean.pagination.rowsNumber=e.bean.rows.length)}})},get_beans(e){let l=this,{page:a,rowsPerPage:n,sortBy:o,descending:t}=l.bean_pagination(e),s={index:a,size:n,order:(t?"-":"")+o};Object.keys(l.bean.filters).forEach((e=>{s[e]=l.bean.filters[e]})),l.bean.loading=!0,f.F.call({path:"/beans",params:s,onFinish(){l.bean.loading=!1},onSuccess(e){if(g.Z.isObject(e)){l.bean.rows=g.Z.isArray(e.data)?e.data:[];let a=l.bean.pagination;if(a.page=e.index,a.rowsPerPage=e.size,g.Z.isNumber(e.records))a.rowsNumber=e.records;else{let n=e.index*e.size;l.bean.rows.length!==e.size?a.rowsNumber=n:a.rowsNumber=n+1}}}})},bean_pagination(e){let l=this,a=e?.pagination?e.pagination:l.bean.pagination;return a?(l.bean.pagination=a,a):l.bean.pagination},on_bean_refresh_click(){let e=this;e.bean.rows?.length||e.bean.pagination.page>1&&(e.bean.pagination.page=1),e.get_beans({pagination:e.bean.pagination})},on_bean_filter_click(){let e=this,l=e.bean.filters;g.Z.isString(l.beanName)&&""!==l.beanName||delete l.beanName,g.Z.isString(l.className)&&""!==l.className||delete l.className,g.Z.isString(l.isProxy)&&""!==l.isProxy||delete l.isProxy,g.Z.isString(l.isReloadable)&&""!==l.isReloadable||delete l.isReloadable,g.Z.isString(l.isReconfigure)&&""!==l.isReconfigure||delete l.isReconfigure,e.get_beans({pagination:e.bean.pagination}),e.bean.dialog=!1},on_bean_reset_click(){let e=this;e.bean.filters={}}}};var h=a(2807),k=a(3621),x=a(9001),q=a(4031),v=a(8151),y=a(4609),w=a(7308),F=a(7569),$=a(7066),V=a(8020),R=a(7201),N=a(5329),A=a(3418),P=a(5779),Q=a(1565),S=a(3694),C=a(7015),Z=a(6334),U=a(2769),L=a(8582),W=a.n(L);const B=(0,h.A)(_,[["render",p]]),j=B;W()(_,"components",{QTable:k.A,QBtn:x.A,QBadge:q.A,QTooltip:v.A,QIcon:y.A,QPopupProxy:w.A,QCard:F.A,QCardSection:$.A,QInput:V.A,QDialog:R.A,QItem:N.A,QItemSection:A.A,QItemLabel:P.A,QForm:Q.A,QSelect:S.A,QSeparator:C.A,QCardActions:Z.A}),W()(_,"directives",{ClosePopup:U.A})}}]);