"use strict";(globalThis["webpackChunkideahut_quasar_template"]=globalThis["webpackChunkideahut_quasar_template"]||[]).push([[544],{7544:(e,l,a)=>{a.r(l),a.d(l,{default:()=>U});var t=a(1758),n=a(8790);const o={class:"full-width row flex-center text-accent q-gutter-sm"},s={class:"text-subtitle2"},i={class:"text-left"},r={class:"text-caption"};function c(e,l,a,c,d,g){const p=(0,t.g2)("q-item-label"),u=(0,t.g2)("q-item-section"),b=(0,t.g2)("q-tooltip"),m=(0,t.g2)("q-btn"),k=(0,t.g2)("q-item"),_=(0,t.g2)("q-card-section"),h=(0,t.g2)("q-space"),f=(0,t.g2)("q-icon"),q=(0,t.g2)("q-inner-loading"),y=(0,t.g2)("q-checkbox"),F=(0,t.g2)("q-input"),x=(0,t.g2)("q-table"),v=(0,t.g2)("q-card"),w=(0,t.gN)("close-popup");return(0,t.uX)(),(0,t.Wv)(v,{style:(0,n.Tr)("width: "+(e.$q.screen.lt.md?"100%;":"80%;"))},{default:(0,t.k6)((()=>[(0,t.bF)(_,{class:"q-pa-none header-main"},{default:(0,t.k6)((()=>[(0,t.bF)(k,{class:"q-pr-none"},{default:(0,t.k6)((()=>[(0,t.bF)(u,null,{default:(0,t.k6)((()=>[(0,t.bF)(p,{class:"text-h6 text-white"},{default:(0,t.k6)((()=>[(0,t.eW)((0,n.v_)(c.title),1)])),_:1})])),_:1}),(0,t.bF)(u,{side:""},{default:(0,t.k6)((()=>[(0,t.bo)(((0,t.uX)(),(0,t.Wv)(m,{class:"text-caption text-white q-pl-xs q-pr-xs q-mr-xs",flat:"",round:"",glossy:"",icon:"close"},{default:(0,t.k6)((()=>[(0,t.bF)(b,null,{default:(0,t.k6)((()=>[(0,t.eW)((0,n.v_)(e.$t("label.close")),1)])),_:1})])),_:1})),[[w]])])),_:1})])),_:1})])),_:1}),(0,t.bF)(_,{style:{"max-height":"80vh"},class:"q-pa-xs q-pt-sm scroll"},{default:(0,t.k6)((()=>[(0,t.bF)(x,{class:"table-sticky-header q-ma-sm",rows:c.table.rows,columns:c.table.columns,"row-key":"key",loading:c.table.loading,selection:"multiple",selected:c.table.selected,"onUpdate:selected":l[1]||(l[1]=e=>c.table.selected=e),pagination:c.table.pagination,"onUpdate:pagination":l[2]||(l[2]=e=>c.table.pagination=e),dense:e.$q.screen.lt.md,"no-data-label":e.$t("error.data_not_available"),"rows-per-page-label":" ","rows-per-page-options":[10,20,30,40,50,60,70,80,90,100],"selected-rows-label":e=>{},onRequest:g.do_request,"binary-state-sort":"",separator:"cell",style:{"max-height":"70vh"},bordered:""},{top:(0,t.k6)((()=>[(0,t.bF)(m,{glossy:"",round:"",dense:"",class:"q-ma-none q-pl-none q-mr-md",color:"negative",icon:"delete",disable:!c.table.selected.length,loading:c.table.deleting,onClick:g.on_delete_click},{default:(0,t.k6)((()=>[(0,t.bF)(b,null,{default:(0,t.k6)((()=>[(0,t.eW)((0,n.v_)(e.$t("label.delete")),1)])),_:1})])),_:1},8,["disable","loading","onClick"]),(0,t.bF)(m,{glossy:"",round:"",dense:"",class:"q-ma-none q-mr-md",color:"deep-orange-10",icon:"clear_all",loading:c.table.clearing,onClick:g.on_clear_click},{default:(0,t.k6)((()=>[(0,t.bF)(b,null,{default:(0,t.k6)((()=>[(0,t.eW)((0,n.v_)(e.$t("label.clear")),1)])),_:1})])),_:1},8,["loading","onClick"]),(0,t.bF)(h),(0,t.bF)(m,{glossy:"",round:"",dense:"",class:"q-ma-none q-ml-md",color:"indigo",icon:"refresh",loading:c.table.loading,onClick:g.on_refresh_click},{default:(0,t.k6)((()=>[(0,t.bF)(b,null,{default:(0,t.k6)((()=>[(0,t.eW)((0,n.v_)(e.$t("label.refresh")),1)])),_:1})])),_:1},8,["loading","onClick"])])),"no-data":(0,t.k6)((({message:e})=>[(0,t.Lk)("div",o,[(0,t.bF)(f,{size:"2em",name:"block"}),(0,t.Lk)("span",s,(0,n.v_)(e),1)])])),loading:(0,t.k6)((()=>[(0,t.bF)(q,{showing:"",color:"primary"})])),"header-selection":(0,t.k6)((e=>[(0,t.Lk)("div",i,[(0,t.bF)(y,{dense:"",color:"primary",class:"q-ma-none q-ml-sm q-mr-sm",modelValue:e.selected,"onUpdate:modelValue":l=>e.selected=l},null,8,["modelValue","onUpdate:modelValue"])])])),"body-selection":(0,t.k6)((e=>[(0,t.bF)(y,{dense:"",color:"primary",class:"q-ma-none q-ml-sm q-mr-sm",modelValue:e.selected,"onUpdate:modelValue":l=>e.selected=l},null,8,["modelValue","onUpdate:modelValue"])])),pagination:(0,t.k6)((e=>[e.pagesNumber>2?((0,t.uX)(),(0,t.Wv)(m,{key:0,glossy:"",size:"sm",icon:"first_page",color:"grey-8",round:"",dense:"",flat:"",disable:e.isFirstPage,onClick:e.firstPage},null,8,["disable","onClick"])):(0,t.Q3)("",!0),(0,t.bF)(m,{glossy:"",size:"sm",icon:"chevron_left",color:"grey-8",round:"",dense:"",flat:"",disable:e.isFirstPage,onClick:e.prevPage},null,8,["disable","onClick"]),(0,t.bF)(F,{dense:"",borderless:"",type:"number","input-class":"text-center q-ml-xs q-mr-xs","input-style":"max-width: 60px;",modelValue:c.table.pagination.page,"onUpdate:modelValue":[l[0]||(l[0]=e=>c.table.pagination.page=e),g.on_page_changed]},{append:(0,t.k6)((()=>[(0,t.Lk)("span",r," / "+(0,n.v_)(e.pagesNumber),1)])),_:2},1032,["modelValue","onUpdate:modelValue"]),(0,t.bF)(m,{glossy:"",size:"sm",icon:"chevron_right",color:"grey-8",round:"",dense:"",flat:"",disable:e.isLastPage,onClick:e.nextPage},null,8,["disable","onClick"]),e.pagesNumber>2?((0,t.uX)(),(0,t.Wv)(m,{key:1,glossy:"",size:"sm",icon:"last_page",color:"grey-8",round:"",dense:"",flat:"",disable:e.isLastPage,onClick:e.lastPage},null,8,["disable","onClick"])):(0,t.Q3)("",!0)])),_:1},8,["rows","columns","loading","selected","pagination","dense","no-data-label","onRequest"])])),_:1})])),_:1},8,["style"])}a(239);var d=a(8734),g=a(9928),p=a(8916),u=a(526);const b={props:["parameters"],setup(){return{util:g.Z,title:(0,d.KR)(null),name:(0,d.KR)(null),group:(0,d.KR)(null),table:(0,d.KR)({rows:[],selected:[],columns:[],loading:!1,deleting:!1,clearing:!1,pagination:{page:1,rowsPerPage:30}})}},created(){let e=this;e.table.columns=[{name:"key",label:e.$t("label.key"),field:"key",align:"left",sortable:!0}];let l=g.Z.isObject(e.parameters)?e.parameters:{};e.title=l.title,e.name=l.name,e.group=l.group,e.do_request({pagination:e.table.pagination})},methods:{do_request(e){let l=this;l.table.selected=[];let{page:a,rowsPerPage:t}=e?.pagination?e.pagination:l.table.pagination,n={info:{name:l.name,group:l.group},index:a,size:t};l.table.loading=!0,u.F.call({path:"/cache/keys",method:"post",data:n,onFinish(){l.table.loading=!1},onSuccess(e){if(l.table.rows=[],g.Z.isObject(e)){if(g.Z.isArray(e.data))for(const t of e.data)l.table.rows.push({key:t});let a=l.table.pagination;a.page=e.index,a.rowsPerPage=e.size,a.rowsNumber=e.records}}})},on_refresh_click(){let e=this;e.do_request({pagination:e.table.pagination})},on_delete_click(){let e=this;if(e.table.selected?.length){let l=[];for(const t of e.table.selected)l.push(t.key);let a={info:{name:e.name,group:e.group},keys:l};e.table.deleting=!0,u.F.call({path:"/cache/delete",method:"post",data:a,onSuccess(){setTimeout((function(){e.table.deleting=!1,e.do_request({pagination:e.table.pagination})}),500)},onError(){e.table.deleting=!1},notify:!0})}},on_clear_click(){let e=this;p.L.confirm((function(){let l={info:{name:e.name,group:e.group}};e.table.clearing=!0,u.F.call({path:"/cache/clear",method:"post",data:l,onSuccess(l){setTimeout((function(){e.table.clearing=!1,e.table.pagination.page=1,e.on_refresh_click()}),500)},onError(){e.table.clearing=!1},notify:!0})}),"confirm.clear",e.title)},on_page_changed(){let e=this,l=+e.table.pagination.page;!isNaN(l)&&l>0&&e.do_request({pagination:e.table.pagination})}}};var m=a(2807),k=a(7569),_=a(7066),h=a(5329),f=a(3418),q=a(5779),y=a(9001),F=a(8151),x=a(3621),v=a(1173),w=a(4609),C=a(4264),A=a(2225),P=a(8020),Q=a(2769),V=a(8582),L=a.n(V);const W=(0,m.A)(b,[["render",c]]),U=W;L()(b,"components",{QCard:k.A,QCardSection:_.A,QItem:h.A,QItemSection:f.A,QItemLabel:q.A,QBtn:y.A,QTooltip:F.A,QTable:x.A,QSpace:v.A,QIcon:w.A,QInnerLoading:C.A,QCheckbox:A.A,QInput:P.A}),L()(b,"directives",{ClosePopup:Q.A})}}]);