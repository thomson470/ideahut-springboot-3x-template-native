"use strict";(globalThis["webpackChunkideahut_quasar_admin"]=globalThis["webpackChunkideahut_quasar_admin"]||[]).push([[250],{3250:(e,l,t)=>{t.r(l),t.d(l,{default:()=>ae});var a=t(1758),i=t(8790),o=t(9104);const n={class:"row q-mt-none q-pa-sm"},s={class:"col-md-6 col-xs-12 q-pa-xs q-mb-sm"},r={class:"col-md-6 col-xs-12 q-pa-xs q-mb-sm"},d={class:"col-md-12 col-xs-12 q-pa-xs q-mb-sm"},c={class:"full-width row flex-center text-accent q-gutter-sm"},p={class:"text-subtitle2"},u={class:"text-caption"},b={class:"text-left q-pa-sm"},g={class:"text-weight-bolder"},m={class:"q-ml-md"},y={class:"text-weight-bolder"},_={class:"text-weight-bolder"},f={class:"col-6 q-pr-xs text-left"},h={class:"col-6 q-pl-xs text-right"},k={class:"col-12 text-center"},w={key:1},q={class:"col-12 text-center"},x={key:1};function F(e,l,t,F,v,$){const A=(0,a.g2)("q-icon"),V=(0,a.g2)("q-input"),C=(0,a.g2)("q-table"),E=(0,a.g2)("q-badge"),S=(0,a.g2)("q-tooltip"),W=(0,a.g2)("q-btn"),Q=(0,a.g2)("q-inner-loading"),L=(0,a.g2)("q-th"),X=(0,a.g2)("q-tr"),T=(0,a.g2)("q-td"),U=(0,a.g2)("q-item-label"),P=(0,a.g2)("q-item-section"),Z=(0,a.g2)("q-item"),K=(0,a.g2)("q-list"),N=(0,a.g2)("q-btn-dropdown"),z=(0,a.g2)("q-card-section"),D=(0,a.g2)("q-select"),R=(0,a.g2)("q-form"),I=(0,a.g2)("q-separator"),j=(0,a.g2)("q-card-actions"),O=(0,a.g2)("q-card"),M=(0,a.g2)("q-dialog"),B=(0,a.g2)("VueJsonPretty"),J=(0,a.g2)("EntityView"),G=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",n,[(0,a.Lk)("div",s,[F.setting.rows?.length?((0,a.uX)(),(0,a.Wv)(C,{key:0,class:"table-sticky-header no-column",style:{"max-height":"36vh"},title:e.$t("label.setting"),rows:F.setting.rows,separator:"cell","rows-per-page-options":[0],filter:F.setting.filter,"hide-bottom":"","hide-header":"",bordered:"",dense:""},{"top-right":(0,a.k6)((()=>[(0,a.bF)(V,{borderless:"",dense:"",debounce:"300",modelValue:F.setting.filter,"onUpdate:modelValue":l[0]||(l[0]=e=>F.setting.filter=e),placeholder:e.$t("label.search")},{append:(0,a.k6)((()=>[(0,a.bF)(A,{name:"search"})])),_:1},8,["modelValue","placeholder"])])),_:1},8,["title","rows","filter"])):(0,a.Q3)("",!0)]),(0,a.Lk)("div",r,[F.metadata.rows?.length?((0,a.uX)(),(0,a.Wv)(C,{key:0,class:"table-sticky-header no-column",style:{"max-height":"36vh"},title:e.$t("label.metadata"),rows:F.metadata.rows,separator:"cell","rows-per-page-options":[0],filter:F.metadata.filter,"hide-bottom":"","hide-header":"",bordered:"",dense:""},{"top-right":(0,a.k6)((()=>[(0,a.bF)(V,{borderless:"",dense:"",debounce:"300",modelValue:F.metadata.filter,"onUpdate:modelValue":l[1]||(l[1]=e=>F.metadata.filter=e),placeholder:e.$t("label.search")},{append:(0,a.k6)((()=>[(0,a.bF)(A,{name:"search"})])),_:1},8,["modelValue","placeholder"])])),_:1},8,["title","rows","filter"])):(0,a.Q3)("",!0)]),(0,a.Lk)("div",d,[(0,a.bF)(C,{class:"table-sticky-header",title:e.$t("label.entity"),rows:F.entity.rows,columns:F.columns.entity,loading:F.entity.loading,selection:"single",dense:e.$q.screen.lt.md,"no-data-label":e.$t("error.data_not_available"),"rows-per-page-label":" ","rows-per-page-options":[10,20,30,40,50],"binary-state-sort":"",separator:"cell",pagination:F.entity.pagination,"onUpdate:pagination":l[4]||(l[4]=e=>F.entity.pagination=e),onRequest:$.get_entities,bordered:""},{"top-right":(0,a.k6)((()=>[(0,a.bF)(W,{glossy:"",round:"",dense:"",class:"q-ma-none q-ml-md",color:"deep-orange",icon:"search",onClick:l[2]||(l[2]=e=>F.entity.search=!0)},{default:(0,a.k6)((()=>[Object.keys(F.entity.filters).length?((0,a.uX)(),(0,a.Wv)(E,{key:0,class:"led-green",floating:""})):(0,a.Q3)("",!0),(0,a.bF)(S,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(e.$t("label.search")),1)])),_:1})])),_:1}),(0,a.bF)(W,{glossy:"",round:"",dense:"",class:"q-ma-none q-ml-md",color:"indigo",icon:"refresh",loading:F.entity.loading,onClick:$.on_entity_refresh_click},{default:(0,a.k6)((()=>[(0,a.bF)(S,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(e.$t("label.refresh")),1)])),_:1})])),_:1},8,["loading","onClick"])])),"no-data":(0,a.k6)((({message:e})=>[(0,a.Lk)("div",c,[(0,a.bF)(A,{size:"2em",name:"block"}),(0,a.Lk)("span",p,(0,i.v_)(e),1)])])),loading:(0,a.k6)((()=>[(0,a.bF)(Q,{showing:"",color:"primary"})])),pagination:(0,a.k6)((e=>[e.pagesNumber>2?((0,a.uX)(),(0,a.Wv)(W,{key:0,glossy:"",size:"sm",icon:"first_page",color:"grey-8",round:"",dense:"",flat:"",disable:e.isFirstPage,onClick:e.firstPage},null,8,["disable","onClick"])):(0,a.Q3)("",!0),(0,a.bF)(W,{glossy:"",size:"sm",icon:"chevron_left",color:"grey-8",class:"q-ml-sm q-mr-xs",round:"",dense:"",flat:"",disable:e.isFirstPage,onClick:e.prevPage},null,8,["disable","onClick"]),(0,a.bF)(V,{dense:"",borderless:"",type:"number","input-class":"text-center q-ml-xs q-mr-xs","input-style":"max-width: 60px;",modelValue:F.entity.pagination.page,"onUpdate:modelValue":[l[3]||(l[3]=e=>F.entity.pagination.page=e),$.on_entity_page_changed]},(0,a.eX)({_:2},[!0===F.entity.pagination.count?{name:"append",fn:(0,a.k6)((()=>[(0,a.Lk)("span",u," / "+(0,i.v_)(e.pagesNumber),1)])),key:"0"}:void 0]),1032,["modelValue","onUpdate:modelValue"]),(0,a.bF)(W,{glossy:"",size:"sm",icon:"chevron_right",color:"grey-8",class:"q-ml-sm q-mr-sm",round:"",dense:"",flat:"",disable:e.isLastPage,onClick:e.nextPage},null,8,["disable","onClick"]),e.pagesNumber>2&&!0===F.entity.pagination.count?((0,a.uX)(),(0,a.Wv)(W,{key:1,glossy:"",size:"sm",icon:"last_page",color:"grey-8",round:"",dense:"",flat:"",disable:e.isLastPage,onClick:e.lastPage},null,8,["disable","onClick"])):(0,a.Q3)("",!0)])),header:(0,a.k6)((e=>[(0,a.bF)(X,{props:e},{default:(0,a.k6)((()=>[(0,a.bF)(L,{"auto-width":""}),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.cols,(l=>((0,a.uX)(),(0,a.Wv)(L,{key:l.name,props:e},{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(l.label),1)])),_:2},1032,["props"])))),128))])),_:2},1032,["props"])])),body:(0,a.k6)((l=>[(0,a.bF)(X,{props:l},{default:(0,a.k6)((()=>[(0,a.bF)(T,{"auto-width":""},{default:(0,a.k6)((()=>[(0,a.bF)(W,{glossy:"",round:"",dense:"",size:"sm",class:"q-ma-none q-ml-xs q-mr-sm",color:l.expand?"deep-purple":"accent",icon:l.expand?"remove":"add",onClick:e=>l.expand=!l.expand},{default:(0,a.k6)((()=>[(0,a.bF)(S,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(e.$t("label.view")),1)])),_:1})])),_:2},1032,["color","icon","onClick"])])),_:2},1024),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.cols,(e=>((0,a.uX)(),(0,a.Wv)(T,{key:e.name,props:l,style:(0,i.Tr)("type"===e.name?"cursor: pointer;":""),onClick:t=>"type"===e.name?$.on_dialog_entity_show(l.row.type):null},{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(e.value),1)])),_:2},1032,["props","style","onClick"])))),128))])),_:2},1032,["props"]),l.expand?(0,a.bo)(((0,a.uX)(),(0,a.Wv)(X,{key:0,props:l},{default:(0,a.k6)((()=>[(0,a.bF)(T,{colspan:"100%"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",b,[(0,a.Lk)("div",null,[(0,a.bF)(N,{glossy:"",dense:"",size:"sm",class:"q-ml-xs",color:"light-green-10",icon:"content_copy",label:e.$t("label.replica"),loading:F.loading.replica[l.row.type]},{default:(0,a.k6)((()=>[(0,a.bF)(K,null,{default:(0,a.k6)((()=>[((0,a.uX)(),(0,a.CE)(a.FK,null,(0,a.pI)(10,(e=>(0,a.bo)((0,a.bF)(Z,{key:e,clickable:"",onClick:t=>$.on_entity_replica_click(l,e)},{default:(0,a.k6)((()=>[(0,a.bF)(P,null,{default:(0,a.k6)((()=>[(0,a.bF)(U,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(e),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"]),[[G]]))),64))])),_:2},1024)])),_:2},1032,["label","loading"]),(0,a.bF)(W,{glossy:"",dense:"",size:"sm",class:"q-ml-sm q-pr-sm",color:"orange-10",icon:"view_quilt",label:e.$t("label.grid"),loading:F.loading.grid[l.row.type],onClick:e=>$.on_entity_grid_click(l)},null,8,["label","loading","onClick"])]),(0,a.bF)(C,{class:"table-child q-mt-sm",columns:F.columns.field,rows:l.row.id.fields,separator:"cell","rows-per-page-options":[0],"hide-bottom":"",dense:""},{top:(0,a.k6)((()=>[(0,a.Lk)("span",g,(0,i.v_)(e.$t("label.identifier")),1),(0,a.Lk)("span",m,"[ "+(0,i.v_)(e.$t("label.type"))+": "+(0,i.v_)(l.row.id.type)+(0,i.v_)(F.util.isString(l.row.id.name)?", "+e.$t("label.field")+": "+l.row.id.name:"")+" ]",1)])),_:2},1032,["columns","rows"]),(0,a.bF)(C,{class:"table-child q-mt-sm",columns:F.columns.field,rows:l.row.fields,separator:"cell","rows-per-page-options":[0],"hide-bottom":"",dense:""},{top:(0,a.k6)((()=>[(0,a.Lk)("span",y,(0,i.v_)(e.$t("label.field")),1)])),body:(0,a.k6)((e=>[(0,a.bF)(X,{props:e},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.cols,(l=>((0,a.uX)(),(0,a.Wv)(T,{key:l.name,props:e,style:(0,i.Tr)("type"===l.name&&!0===e.row.isEntity?"cursor: pointer;":""),onClick:t=>"type"===l.name&&!0===e.row.isEntity?$.on_dialog_entity_show(e.row.type):null},{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(l.value),1)])),_:2},1032,["props","style","onClick"])))),128))])),_:2},1032,["props"])])),_:2},1032,["columns","rows"]),l.row.transients?.length?((0,a.uX)(),(0,a.Wv)(C,{key:0,class:"table-child q-mt-sm",columns:F.columns.transient,rows:l.row.transients,separator:"cell","rows-per-page-options":[0],"hide-bottom":"",dense:""},{top:(0,a.k6)((()=>[(0,a.Lk)("span",_,(0,i.v_)(e.$t("label.transient")),1)])),body:(0,a.k6)((e=>[(0,a.bF)(X,{props:e},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.cols,(l=>((0,a.uX)(),(0,a.Wv)(T,{key:l.name,props:e,style:(0,i.Tr)("type"===l.name&&!0===e.row.isEntity?"cursor: pointer;":""),onClick:t=>"type"===l.name&&!0===e.row.isEntity?$.on_dialog_entity_show(e.row.type):null},{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(l.value),1)])),_:2},1032,["props","style","onClick"])))),128))])),_:2},1032,["props"])])),_:2},1032,["columns","rows"])):(0,a.Q3)("",!0)])])),_:2},1024)])),_:2},1032,["props"])),[[o.aG,l.expand]]):(0,a.Q3)("",!0)])),_:1},8,["title","rows","columns","loading","dense","no-data-label","pagination","onRequest"])])]),(0,a.bF)(M,{modelValue:F.entity.search,"onUpdate:modelValue":l[12]||(l[12]=e=>F.entity.search=e),"transition-show":"scale","transition-hide":"fade",persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(O,{style:(0,i.Tr)("width: "+(e.$q.screen.lt.md?"100%;":"50%;"))},{default:(0,a.k6)((()=>[(0,a.bF)(z,{class:"q-pa-none header-main"},{default:(0,a.k6)((()=>[(0,a.bF)(Z,{class:"q-pr-none"},{default:(0,a.k6)((()=>[(0,a.bF)(P,null,{default:(0,a.k6)((()=>[(0,a.bF)(U,{class:"text-h6 text-white"},{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(e.$t("label.search")),1)])),_:1})])),_:1}),(0,a.bF)(P,{side:""},{default:(0,a.k6)((()=>[(0,a.bo)(((0,a.uX)(),(0,a.Wv)(W,{class:"text-caption text-white q-pl-xs q-pr-xs q-mr-xs",flat:"",round:"",glossy:"",icon:"close"},{default:(0,a.k6)((()=>[(0,a.bF)(S,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(e.$t("label.close")),1)])),_:1})])),_:1})),[[G]])])),_:1})])),_:1})])),_:1}),(0,a.bF)(z,{style:{"max-height":"70vh"},class:"q-pa-xs q-mt-xs scroll"},{default:(0,a.k6)((()=>[(0,a.bF)(D,{modelValue:F.entity.filters["id.type"],"onUpdate:modelValue":l[5]||(l[5]=e=>F.entity.filters["id.type"]=e),label:e.$t("label.id"),options:F.option.id,filled:"",class:"q-mb-xs"},null,8,["modelValue","label","options"]),(0,a.bF)(R,{onSubmit:$.on_entity_filter_click,onReset:$.on_entity_reset_click},{default:(0,a.k6)((()=>[(0,a.bF)(V,{modelValue:F.entity.filters.type,"onUpdate:modelValue":l[6]||(l[6]=e=>F.entity.filters.type=e),type:"text",label:e.$t("label.type"),filled:"",class:"q-mb-xs"},null,8,["modelValue","label"])])),_:1},8,["onSubmit","onReset"]),(0,a.bF)(R,{onSubmit:$.on_entity_filter_click,onReset:$.on_entity_reset_click},{default:(0,a.k6)((()=>[(0,a.bF)(V,{modelValue:F.entity.filters.table,"onUpdate:modelValue":l[7]||(l[7]=e=>F.entity.filters.table=e),type:"text",label:e.$t("label.table"),filled:"",class:"q-mb-xs"},null,8,["modelValue","label"])])),_:1},8,["onSubmit","onReset"]),(0,a.bF)(D,{modelValue:F.entity.filters.isSoftDelete,"onUpdate:modelValue":l[8]||(l[8]=e=>F.entity.filters.isSoftDelete=e),label:e.$t("label.soft_delete"),options:F.option.boolean,filled:"",class:"q-mb-xs"},null,8,["modelValue","label","options"]),(0,a.bF)(D,{modelValue:F.entity.filters.isAudit,"onUpdate:modelValue":l[9]||(l[9]=e=>F.entity.filters.isAudit=e),label:e.$t("label.audit_object"),options:F.option.boolean,filled:"",class:"q-mb-xs"},null,8,["modelValue","label","options"]),(0,a.bF)(D,{modelValue:F.entity.filters.hasAuditMark,"onUpdate:modelValue":l[10]||(l[10]=e=>F.entity.filters.hasAuditMark=e),label:e.$t("label.audit_annotation"),options:F.option.boolean,filled:"",class:"q-mb-xs"},null,8,["modelValue","label","options"]),(0,a.bF)(D,{modelValue:F.entity.filters.isApiExclude,"onUpdate:modelValue":l[11]||(l[11]=e=>F.entity.filters.isApiExclude=e),label:e.$t("label.api_exclude"),options:F.option.boolean,filled:"",class:"q-mb-xs"},null,8,["modelValue","label","options"])])),_:1}),(0,a.bF)(I),(0,a.bF)(j,{class:"row"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",f,[(0,a.bF)(W,{label:e.$t("label.reset"),color:"orange","no-caps":"",glossy:"",onClick:$.on_entity_reset_click},null,8,["label","onClick"])]),(0,a.Lk)("div",h,[(0,a.bF)(W,{label:e.$t("label.filter"),color:"purple","no-caps":"",glossy:"",onClick:$.on_entity_filter_click},null,8,["label","onClick"])])])),_:1})])),_:1},8,["style"])])),_:1},8,["modelValue"]),(0,a.bF)(M,{modelValue:F.dialog.replica.show,"onUpdate:modelValue":l[13]||(l[13]=e=>F.dialog.replica.show=e),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(O,{style:(0,i.Tr)(e.$q.screen.lt.md?"":"width: 60vw; max-width: 61vw;")},{default:(0,a.k6)((()=>[(0,a.bF)(z,{class:"q-pa-none header-main"},{default:(0,a.k6)((()=>[(0,a.bF)(Z,{class:"q-pr-none"},{default:(0,a.k6)((()=>[(0,a.bF)(P,{style:{"max-width":"80vw","overflow-x":"scroll"}},{default:(0,a.k6)((()=>[(0,a.bF)(U,{class:"text-white"},{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(F.dialog.replica.title),1)])),_:1})])),_:1}),(0,a.bF)(P,{side:""},{default:(0,a.k6)((()=>[(0,a.bo)(((0,a.uX)(),(0,a.Wv)(W,{class:"text-caption text-white q-pl-xs q-pr-xs q-mr-xs",flat:"",round:"",glossy:"",icon:"close"},{default:(0,a.k6)((()=>[(0,a.bF)(S,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(e.$t("label.close")),1)])),_:1})])),_:1})),[[G]])])),_:1})])),_:1})])),_:1}),(0,a.bF)(z,{style:(0,i.Tr)(e.$q.screen.lt.md?"max-height: 65vh;":"max-height: 70vh; width: 60vw; max-width: 61vw;"),class:"q-pa-xs q-mt-xs scroll"},{default:(0,a.k6)((()=>[(0,a.bF)(K,null,{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(F.dialog.replica.sqls,((e,l)=>((0,a.uX)(),(0,a.Wv)(Z,{key:l,class:"q-pa-none"},{default:(0,a.k6)((()=>[(0,a.bF)(V,{type:"text",modelValue:F.dialog.replica.sqls[l],"onUpdate:modelValue":e=>F.dialog.replica.sqls[l]=e,filled:"",dense:"",readonly:"",autogrow:"",class:"text-left text-caption q-mt-xs full-width"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)))),128))])),_:1})])),_:1},8,["style"]),(0,a.bF)(j,{class:"row"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",k,[F.dialog.replica.copied?((0,a.uX)(),(0,a.CE)("span",w,(0,i.v_)(e.$t("label.copied_to_clipboard")),1)):((0,a.uX)(),(0,a.Wv)(W,{key:0,"no-caps":"",ripple:"",glossy:"",icon:"assignment",label:e.$t("label.copy_to_clipboard"),color:"secondary",onClick:$.on_entity_replica_copy_to_clipboard_click},null,8,["label","onClick"]))])])),_:1})])),_:1},8,["style"])])),_:1},8,["modelValue"]),(0,a.bF)(M,{modelValue:F.dialog.grid.show,"onUpdate:modelValue":l[14]||(l[14]=e=>F.dialog.grid.show=e),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(O,{style:(0,i.Tr)(e.$q.screen.lt.md?"":"width: 60vw; max-width: 61vw;")},{default:(0,a.k6)((()=>[(0,a.bF)(z,{class:"q-pa-none header-main"},{default:(0,a.k6)((()=>[(0,a.bF)(Z,{class:"q-pr-none"},{default:(0,a.k6)((()=>[(0,a.bF)(P,{style:{"max-width":"80vw","overflow-x":"scroll"}},{default:(0,a.k6)((()=>[(0,a.bF)(U,{class:"text-white"},{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(F.dialog.grid.title),1)])),_:1})])),_:1}),(0,a.bF)(P,{side:""},{default:(0,a.k6)((()=>[(0,a.bo)(((0,a.uX)(),(0,a.Wv)(W,{class:"text-caption text-white q-pl-xs q-pr-xs q-mr-xs",flat:"",round:"",glossy:"",icon:"close"},{default:(0,a.k6)((()=>[(0,a.bF)(S,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(e.$t("label.close")),1)])),_:1})])),_:1})),[[G]])])),_:1})])),_:1})])),_:1}),(0,a.bF)(z,{style:(0,i.Tr)(e.$q.screen.lt.md?"max-height: 65vh;":"max-height: 70vh; width: 60vw; max-width: 61vw;"),class:"q-pa-xs q-mt-xs scroll"},{default:(0,a.k6)((()=>[(0,a.bF)(B,{data:JSON.parse(F.dialog.grid.text),showLineNumber:!0,showLine:!0,showDoubleQuotes:!1,showIcon:!0,highlightSelectedNode:!1,showKeyValueSpace:!0},null,8,["data"])])),_:1},8,["style"]),(0,a.bF)(j,{class:"row"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",q,[F.dialog.grid.copied?((0,a.uX)(),(0,a.CE)("span",x,(0,i.v_)(e.$t("label.copied_to_clipboard")),1)):((0,a.uX)(),(0,a.Wv)(W,{key:0,"no-caps":"",ripple:"",glossy:"",icon:"assignment",label:e.$t("label.copy_to_clipboard"),color:"secondary",onClick:$.on_entity_grid_copy_to_clipboard_click},null,8,["label","onClick"]))])])),_:1})])),_:1},8,["style"])])),_:1},8,["modelValue"]),(0,a.bF)(M,{modelValue:F.dialog.entity.show,"onUpdate:modelValue":l[15]||(l[15]=e=>F.dialog.entity.show=e),persistent:"","transition-show":"slide-down","transition-hide":"none","full-width":""},{default:(0,a.k6)((()=>[(0,a.bF)(J,{parameters:F.dialog.entity.parameters},null,8,["parameters"])])),_:1},8,["modelValue"])],64)}t(239);var v=t(8734),$=t(2084),A=t(9928),V=t(526);const C={components:{EntityView:(0,a.$V)((()=>Promise.all([t.e(121),t.e(708)]).then(t.bind(t,9708)))),VueJsonPretty:(0,a.$V)((()=>t.e(121).then(t.bind(t,9140))))},setup(){return{util:A.Z,copyToClipboard:$.A,loading:(0,v.KR)({replica:{},grid:{}}),manager:(0,v.KR)(null),setting:(0,v.KR)({rows:[],filter:null}),metadata:(0,v.KR)({rows:[],filter:null}),entity:(0,v.KR)({rows:[],filters:{},pagination:{page:1,rowsPerPage:10,sortBy:"type",descending:!1,count:!0},loading:!1,search:!1}),columns:(0,v.KR)({entity:[],field:[],transient:[]}),dialog:(0,v.KR)({entity:{show:!1,parameters:null},replica:{show:!1,title:null,sqls:[],copied:!1},grid:{show:!1,title:null,data:null,copied:!1}}),option:(0,v.KR)({boolean:["","true","false"],id:["","NONE","STANDARD","COMPOSITE","EMBEDDED"]})}},created(){let e=this;e.columns.entity=[{name:"type",label:e.$t("label.type"),field:"type",align:"left",sortable:!0},{name:"id",label:e.$t("label.id"),field:"id",align:"left",sortable:!0,format:function(e,l){return e.type}},{name:"table",label:e.$t("label.table"),field:"table",align:"left",sortable:!0},{name:"isSoftDelete",label:e.$t("label.soft_delete"),field:"isSoftDelete",align:"left",sortable:!0},{name:"isAudit",label:e.$t("label.audit_object"),field:"isAudit",align:"left",sortable:!0},{name:"hasAuditMark",label:e.$t("label.audit_annotation"),field:"hasAuditMark",align:"left",sortable:!0},{name:"isApiExclude",label:e.$t("label.api_exclude"),field:"isApiExclude",align:"left",sortable:!0}],e.columns.field=[{name:"name",label:e.$t("label.name"),field:"name",align:"left",sortable:!0},{name:"column",label:e.$t("label.column"),field:"column",align:"left",sortable:!0},{name:"type",label:e.$t("label.type"),field:"type",align:"left",sortable:!0,format:function(e,l){return e+(A.Z.isString(l.jdbcType)?" ("+l.jdbcType+")":"")}},{name:"isLazy",label:e.$t("label.lazy"),field:"isLazy",align:"left",sortable:!0},{name:"isEager",label:e.$t("label.eager"),field:"isEager",align:"left",sortable:!0},{name:"isLob",label:e.$t("label.lob"),field:"isLob",align:"left",sortable:!0},{name:"isEntity",label:e.$t("label.entity"),field:"isEntity",align:"left",sortable:!0},{name:"isEnum",label:e.$t("label.enum"),field:"isEnum",align:"left",sortable:!0},{name:"format",label:e.$t("label.format"),field:"format",align:"left",sortable:!0},{name:"length",label:e.$t("label.length"),field:"length",align:"left",sortable:!0},{name:"scale",label:e.$t("label.scale"),field:"scale",align:"left",sortable:!0},{name:"precision",label:e.$t("label.precision"),field:"precision",align:"left",sortable:!0}],e.columns.transient=[{name:"name",label:e.$t("label.name"),field:"name",align:"left",sortable:!0},{name:"type",label:e.$t("label.type"),field:"type",align:"left",sortable:!0}],e.do_init()},beforeUpdate(){this.do_init()},methods:{do_sort(e){A.Z.isArray(e)&&e.sort(((e,l)=>{const t=e.label.toUpperCase(),a=l.label.toUpperCase();return t<a?-1:t>a?1:0}))},get_entity_pagination(e){let l=this,t=e?.pagination?e.pagination:l.entity.pagination;return t?(l.entity.pagination=t,t):l.entity.pagination},do_init(){let e=this,l=e.$route.query.manager;l!==e.manager&&(e.manager=l,e.get_info(),e.get_entities({pagination:e.entity.pagination}))},get_info(){let e=this;V.F.call({path:"/manager/info",params:{manager:e.manager},onSuccess(l){A.Z.isObject(l)&&(e.setting.rows=[],A.Z.isObject(l.setting)&&(Object.keys(l.setting).forEach((t=>{e.setting.rows.push({label:t,value:l.setting[t]})})),e.do_sort(e.setting.rows)),e.metadata.rows=[],A.Z.isObject(l.metadata)&&(Object.keys(l.metadata).forEach((t=>{e.metadata.rows.push({label:t,value:l.metadata[t]})})),e.do_sort(e.metadata.rows)))}})},get_entities(e){let l=this,{page:t,rowsPerPage:a,sortBy:i,descending:o}=l.get_entity_pagination(e),n={manager:l.manager,index:t,size:a,order:(o?"-":"")+i};Object.keys(l.entity.filters).forEach((e=>{n[e]=l.entity.filters[e]})),l.entity.loading=!0,V.F.call({path:"/manager/entities",params:n,onFinish(){l.entity.loading=!1},onSuccess(e){if(A.Z.isObject(e)){l.entity.rows=A.Z.isArray(e.data)?e.data:[];let t=l.entity.pagination;if(t.page=e.index,t.rowsPerPage=e.size,A.Z.isNumber(e.records))t.rowsNumber=e.records;else{let a=e.index*e.size;l.entity.rows.length!==e.size?t.rowsNumber=a:t.rowsNumber=a+1}}}})},on_entity_refresh_click(){let e=this;e.entity.rows?.length||e.entity.pagination.page>1&&(e.entity.pagination.page=1),e.get_entities({pagination:e.entity.pagination})},on_entity_page_changed(){let e=this,l=+e.entity.pagination.page;!isNaN(l)&&l>0&&e.do_request({pagination:e.entity.pagination})},on_dialog_entity_show(e){let l=this;l.dialog.entity={show:!0,parameters:{title:e,columns:l.columns,manager:l.manager,entity:e}}},on_entity_replica_click(e,l){let t=this;t.loading.replica[e.row.type]=!0,V.F.call({path:"/entity/replica",params:{manager:t.manager,entity:e.row.type,total:l},onFinish(){t.loading.replica[e.row.type]=!1},onSuccess(l){A.Z.isArray(l)&&(t.dialog.replica={title:e.row.type,sqls:l,show:!0})}})},on_entity_grid_click(e){let l=this;l.loading.grid[e.row.type]=!0,V.F.call({path:"/entity/grid",params:{manager:l.manager,entity:e.row.type},onFinish(){l.loading.grid[e.row.type]=!1},onSuccess(t){A.Z.isString(t)&&(l.dialog.grid={title:e.row.type,text:t,show:!0})}})},on_entity_grid_copy_to_clipboard_click(){let e=this;(0,$.A)(e.dialog.grid.text),e.dialog.grid.copied=!0,setTimeout((function(){e.dialog.grid.copied=!1}),3e3)},on_entity_replica_copy_to_clipboard_click(){let e=this,l=e.dialog.replica.sqls;if(A.Z.isArray(l)&&l.length){let t="";for(const e of l)t+=e+"\n\n";(0,$.A)(t),e.dialog.replica.copied=!0,setTimeout((function(){e.dialog.replica.copied=!1}),3e3)}},on_entity_filter_click(){let e=this,l=e.entity.filters;A.Z.isString(l.type)&&""!==l.type||delete l.type,A.Z.isString(l.table)&&""!==l.table||delete l.table,A.Z.isString(l.isSoftDelete)&&""!==l.isSoftDelete||delete l.isSoftDelete,A.Z.isString(l.isAudit)&&""!==l.isAudit||delete l.isAudit,A.Z.isString(l.hasAuditMark)&&""!==l.hasAuditMark||delete l.hasAuditMark,A.Z.isString(l.isApiExclude)&&""!==l.isApiExclude||delete l.isApiExclude,A.Z.isString(l["id.type"])&&""!==l["id.type"]||delete l["id.type"],e.get_entities({pagination:e.entity.pagination}),e.entity.search=!1},on_entity_reset_click(){let e=this;e.entity.filters={}}}};var E=t(2807),S=t(3621),W=t(8020),Q=t(4609),L=t(9001),X=t(4031),T=t(8151),U=t(4264),P=t(1239),Z=t(3377),K=t(7109),N=t(7292),z=t(4514),D=t(5329),R=t(3418),I=t(5779),j=t(7201),O=t(7569),M=t(7066),B=t(3694),J=t(1565),G=t(7015),H=t(6334),Y=t(2769),ee=t(8582),le=t.n(ee);const te=(0,E.A)(C,[["render",F]]),ae=te;le()(C,"components",{QTable:S.A,QInput:W.A,QIcon:Q.A,QBtn:L.A,QBadge:X.A,QTooltip:T.A,QInnerLoading:U.A,QTr:P.A,QTh:Z.A,QTd:K.A,QBtnDropdown:N.A,QList:z.A,QItem:D.A,QItemSection:R.A,QItemLabel:I.A,QDialog:j.A,QCard:O.A,QCardSection:M.A,QSelect:B.A,QForm:J.A,QSeparator:G.A,QCardActions:H.A}),le()(C,"directives",{ClosePopup:Y.A})}}]);