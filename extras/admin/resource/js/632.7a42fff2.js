"use strict";(globalThis["webpackChunkideahut_quasar_admin"]=globalThis["webpackChunkideahut_quasar_admin"]||[]).push([[632],{1632:(e,t,i)=>{i.r(t),i.d(t,{default:()=>$});var n=i(1758),l=i(8790);function a(e,t,i,a,o,u){const s=(0,n.g2)("q-tooltip"),c=(0,n.g2)("q-btn"),r=(0,n.g2)("q-space"),d=(0,n.g2)("q-toolbar"),m=(0,n.g2)("q-header"),_=(0,n.g2)("q-separator"),p=(0,n.g2)("q-icon"),k=(0,n.g2)("q-item-section"),g=(0,n.g2)("q-item"),h=(0,n.g2)("q-expansion-item"),b=(0,n.g2)("q-list"),f=(0,n.g2)("q-scroll-area"),v=(0,n.g2)("q-drawer"),F=(0,n.g2)("router-view"),w=(0,n.g2)("q-page-scroller"),q=(0,n.g2)("q-page"),y=(0,n.g2)("q-page-container"),x=(0,n.g2)("q-layout"),C=(0,n.gN)("ripple");return(0,n.uX)(),(0,n.Wv)(x,{view:"hHh lpR fFf",class:"background-layout"},{default:(0,n.k6)((()=>[(0,n.bF)(m,{class:"header-main"},{default:(0,n.k6)((()=>[(0,n.bF)(d,null,{default:(0,n.k6)((()=>[(0,n.bF)(c,{round:"",size:e.$q.screen.gt.sm?"md":"sm","aria-label":e.$t("label.menu"),icon:"menu",onClick:u.on_toggle_menu},{default:(0,n.k6)((()=>[(0,n.bF)(s,null,{default:(0,n.k6)((()=>[(0,n.eW)((0,l.v_)(e.$t("label.menu")),1)])),_:1})])),_:1},8,["size","aria-label","onClick"]),(0,n.bF)(c,{flat:"","no-caps":"","no-wrap":"",label:e.$t("app.title"),size:e.$q.screen.gt.sm?"xl":"lg",class:(0,l.C4)("q-pa-xs text-weight-bold "+(e.$q.screen.gt.sm?"q-ml-md":"q-ml-xs")),onClick:t[0]||(t[0]=e=>u.on_header_menu_click())},null,8,["label","size","class"]),(0,n.bF)(r),(0,n.bF)(c,{round:"",icon:a.is_dark_mode?"light_mode":"dark_mode",size:e.$q.screen.gt.sm?"md":"sm",onClick:t[1]||(t[1]=e=>{a.uix.dark.toggle(),a.is_dark_mode=a.uix.dark.active()})},{default:(0,n.k6)((()=>[(0,n.bF)(s,null,{default:(0,n.k6)((()=>[(0,n.eW)((0,l.v_)(a.is_dark_mode?e.$t("label.light"):e.$t("label.dark")),1)])),_:1})])),_:1},8,["icon","size"]),a.is_logged_in?((0,n.uX)(),(0,n.Wv)(c,{key:0,round:"",icon:"logout",class:"q-ml-sm",size:e.$q.screen.gt.sm?"md":"sm",loading:a.is_logout_progress,onClick:t[2]||(t[2]=e=>u.on_logout_click())},{default:(0,n.k6)((()=>[(0,n.bF)(s,null,{default:(0,n.k6)((()=>[(0,n.eW)((0,l.v_)(e.$t("label.logout")),1)])),_:1})])),_:1},8,["size","loading"])):(0,n.Q3)("",!0)])),_:1})])),_:1}),(0,n.bF)(v,{modelValue:a.is_show_menu,"onUpdate:modelValue":t[3]||(t[3]=e=>a.is_show_menu=e),bordered:"",elevated:"",width:300,breakpoint:400,class:"background-drawer"},{default:(0,n.k6)((()=>[(0,n.bF)(f,{class:(0,l.C4)("fit q-pt-sm")},{default:(0,n.k6)((()=>[(0,n.bF)(b,null,{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.menus,((e,t)=>((0,n.uX)(),(0,n.CE)(n.FK,{key:t},[e.separator?((0,n.uX)(),(0,n.Wv)(_,{key:0})):e.children?.length?((0,n.uX)(),(0,n.Wv)(h,{key:1,"default-opened":a.active_menu.parent&&e.id===a.active_menu.parent.id||a.active_menu.parent?.parent&&e.id===a.active_menu.parent.parent.id},{header:(0,n.k6)((()=>[(0,n.bF)(k,{avatar:"",style:{"min-width":"0px !important"}},{default:(0,n.k6)((()=>[(0,n.bF)(p,{name:e.icon},null,8,["name"])])),_:2},1024),(0,n.bF)(k,null,{default:(0,n.k6)((()=>[(0,n.eW)((0,l.v_)(e.title),1)])),_:2},1024)])),default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.children,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.id,class:"drawer-child"},[e.separator?((0,n.uX)(),(0,n.Wv)(_,{key:0})):e.children?.length?((0,n.uX)(),(0,n.Wv)(h,{key:1,"default-opened":a.active_menu.parent&&e.id===a.active_menu.parent.id},{header:(0,n.k6)((()=>[(0,n.bF)(k,{avatar:"",style:{"min-width":"0px !important","padding-left":"24px"}},{default:(0,n.k6)((()=>[(0,n.bF)(p,{name:e.icon},null,8,["name"])])),_:2},1024),(0,n.bF)(k,null,{default:(0,n.k6)((()=>[(0,n.eW)((0,l.v_)(e.title),1)])),_:2},1024)])),default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.children,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.id},[e.separator?((0,n.uX)(),(0,n.Wv)(_,{key:0})):(0,n.bo)(((0,n.uX)(),(0,n.Wv)(g,{key:1,clickable:"",onClick:t=>u.on_menu_click(e)},{default:(0,n.k6)((()=>[(0,n.bF)(k,{avatar:"",style:{"min-width":"0px !important","padding-left":"48px"}},{default:(0,n.k6)((()=>[(0,n.bF)(p,{name:e.icon},null,8,["name"])])),_:2},1024),(0,n.bF)(k,{class:(0,l.C4)(a.active_menu.id===e.id?"text-weight-bold":"")},{default:(0,n.k6)((()=>[(0,n.eW)((0,l.v_)(e.title),1)])),_:2},1032,["class"])])),_:2},1032,["onClick"])),[[C]])])))),128))])),_:2},1032,["default-opened"])):(0,n.bo)(((0,n.uX)(),(0,n.Wv)(g,{key:2,clickable:"",onClick:t=>u.on_menu_click(e)},{default:(0,n.k6)((()=>[(0,n.bF)(k,{avatar:"",style:{"min-width":"0px !important","padding-left":"24px"}},{default:(0,n.k6)((()=>[(0,n.bF)(p,{name:e.icon},null,8,["name"])])),_:2},1024),(0,n.bF)(k,{class:(0,l.C4)(a.active_menu.id===e.id?"text-weight-bold":"")},{default:(0,n.k6)((()=>[(0,n.eW)((0,l.v_)(e.title),1)])),_:2},1032,["class"])])),_:2},1032,["onClick"])),[[C]])])))),128))])),_:2},1032,["default-opened"])):(0,n.bo)(((0,n.uX)(),(0,n.Wv)(g,{key:2,clickable:"",onClick:t=>u.on_menu_click(e)},{default:(0,n.k6)((()=>[(0,n.bF)(k,{avatar:"",style:{margin:"0px !important",padding:"0px !important","min-width":"0px !important"}},{default:(0,n.k6)((()=>[(0,n.bF)(p,{name:e.icon},null,8,["name"])])),_:2},1024),(0,n.bF)(k,{class:(0,l.C4)("q-pl-md"+(a.active_menu.id===e.id?" text-weight-bold":""))},{default:(0,n.k6)((()=>[(0,n.eW)((0,l.v_)(e.title),1)])),_:2},1032,["class"])])),_:2},1032,["onClick"])),[[C]])],64)))),128))])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,n.bF)(y,null,{default:(0,n.k6)((()=>[(0,n.bF)(q,null,{default:(0,n.k6)((()=>[a.active_menu?.title?((0,n.uX)(),(0,n.Wv)(g,{key:0,class:"q-pa-sm q-pl-md q-pb-md text-h5"},{default:(0,n.k6)((()=>[a.active_menu.icon?((0,n.uX)(),(0,n.Wv)(k,{key:0,avatar:"",style:{"min-width":"0px !important"}},{default:(0,n.k6)((()=>[(0,n.bF)(p,{name:a.active_menu.icon},null,8,["name"])])),_:1})):(0,n.Q3)("",!0),(0,n.bF)(k,null,{default:(0,n.k6)((()=>[(0,n.eW)((0,l.v_)(a.active_menu.title),1)])),_:1})])),_:1})):(0,n.Q3)("",!0),(0,n.bF)(F),(0,n.bF)(w,{position:"bottom-right","scroll-offset":120,offset:[12,12]},{default:(0,n.k6)((()=>[(0,n.bF)(c,{round:"",glossy:"",size:"sm",icon:"keyboard_arrow_up",color:"primary"})])),_:1})])),_:1})])),_:1})])),_:1})}i(239),i(7396),i(923),i(9502);var o=i(8734),u=i(9928),s=i(526),c=i(8916),r=i(8889);const d={setup(){return{util:u.Z,api:s.F,uix:c.L,is_logged_in:(0,o.KR)(!1),is_logout_progress:(0,o.KR)(!1),is_show_menu:(0,o.KR)(!1),is_dark_mode:(0,o.KR)(!1),active_menu:(0,o.KR)({id:{}}),menus:(0,o.KR)([])}},created(){let e=this,t=r.I.auth();e.is_dark_mode=c.L.dark.active(),e.is_logged_in=u.Z.isString(t.token)&&""!==t.token&&!0===t.logout,s.F.call({path:"/menus",onSuccess(t){t=u.Z.isArray(t)?t:[],e.menus=[{id:"home",title:"Home",link:"/",icon:"home"}],e.menus.push({separator:!0});for(const n of t){if(n.children?.length){n.icon=u.Z.isString(n.icon)&&""!==n.icon?n.icon:"dashboard";for(const e of n.children)if(e.children?.length){e.icon=u.Z.isString(e.icon)&&""!==e.icon?e.icon:"category";for(const t of e.children)t.icon=u.Z.isString(t.icon)&&""!==t.icon?t.icon:"stream"}else e.icon=u.Z.isString(e.icon)&&""!==e.icon?e.icon:"blur_on"}else n.icon=u.Z.isString(n.icon)&&""!==n.icon?n.icon:"extension";e.menus.push(n),e.menus.push({separator:!0})}let i=r.I.menu();e.active_menu=u.Z.isObject(i.active)?i.active:{id:{}},e.is_show_menu=!0===i.show}})},methods:{on_toggle_menu:function(){let e=this;e.is_show_menu=!e.is_show_menu;let t=r.I.menu();t.show=e.is_show_menu,r.I.menu(t)},on_header_menu_click(){let e=this;e.active_menu={id:{}};let t=r.I.menu();delete t.active,r.I.menu(t),window.location.href=u.Z.publicPath()+"/"},on_menu_click(e){let t=this;if(u.Z.isString(e.link)&&""!==e.link)if(e.noPushRoute){t.active_menu={id:{}};let i=r.I.menu();delete i.active,r.I.menu(i),window.location.href=u.Z.publicPath()+e.link}else{t.active_menu=e;let i=r.I.menu();i.active=e,r.I.menu(i),t.$router.push({path:e.link,query:Object.fromEntries([...new URLSearchParams(e.link.split("?")[1])])})}},on_logout_click(){let e=this;c.L.confirm((function(){e.is_logout_progress=!0;let t=r.I.auth();!0===t.persistent?(r.I.auth(null),window.location.href=u.Z.publicPath(),e.is_logout_progress=!1):s.F.send({path:"/logout",method:"post",onFinish(){e.is_logout_progress=!1},onSuccess(){r.I.auth(null),window.location.href=u.Z.publicPath()}})}),"confirm.logout")}}};var m=i(2807),_=i(3333),p=i(133),k=i(9351),g=i(9001),h=i(8151),b=i(1173),f=i(2701),v=i(9600),F=i(4514),w=i(7015),q=i(6586),y=i(3418),x=i(4609),C=i(5329),A=i(1102),W=i(3177),I=i(4549),Q=i(1976),X=i(8582),S=i.n(X);const Z=(0,m.A)(d,[["render",a]]),$=Z;S()(d,"components",{QLayout:_.A,QHeader:p.A,QToolbar:k.A,QBtn:g.A,QTooltip:h.A,QSpace:b.A,QDrawer:f.A,QScrollArea:v.A,QList:F.A,QSeparator:w.A,QExpansionItem:q.A,QItemSection:y.A,QIcon:x.A,QItem:C.A,QPageContainer:A.A,QPage:W.A,QPageScroller:I.A}),S()(d,"directives",{Ripple:Q.A})}}]);